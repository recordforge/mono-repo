<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "discreteHeight": 60, "discreteWidth": 400}, "header": {"title": null}, "mark": {"tooltip": null}, "title": {"anchor": "middle"}}, "vconcat": [{"mark": {"type": "bar", "clip": true, "height": 15}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "probability_two_random_records_match", "format": ".4f", "title": "Probability two random records match", "type": "nominal"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Equivalent match weight", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"domain": false, "gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "labels": false, "ticks": false, "title": ""}, "field": "log2_bayes_factor", "scale": {"domain": [-11, 11]}, "type": "quantitative"}, "y": {"axis": {"title": "Prior (starting) match weight", "titleAlign": "right", "titleAngle": 0, "titleFontWeight": "normal"}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": 20, "transform": [{"filter": "(datum.comparison_name == 'probability_two_random_records_match')"}]}, {"mark": {"type": "bar", "clip": true}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".10~g", "title": "M probability", "type": "quantitative"}, {"field": "u_probability", "format": ".10~g", "title": "U probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.6f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ".4~g", "title": "Match weight = log2(m/u)", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}, {"field": "m_probability_description", "title": "m probability description", "type": "nominal"}, {"field": "u_probability_description", "title": "u probability description", "type": "nominal"}], "x": {"axis": {"gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "title": "Comparison level match weight = log2(m/u)"}, "field": "log2_bayes_factor", "scale": {"domain": [-11, 11]}, "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "transform": [{"filter": "(datum.comparison_name != 'probability_two_random_records_match')"}]}], "data": {"name": "data-0e35d5ca3164d3acf40c26ded037fd4e"}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales", "views": []}], "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "title": {"text": "Model parameters (components of final match weight)", "subtitle": "Use mousewheel to zoom"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-0e35d5ca3164d3acf40c26ded037fd4e": [{"comparison_name": "probability_two_random_records_match", "sql_condition": null, "label_for_charts": "", "m_probability": null, "u_probability": null, "m_probability_description": null, "u_probability_description": null, "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": null, "is_null_level": false, "bayes_factor": 0.0008214951211204392, "log2_bayes_factor": -10.249460372549692, "comparison_vector_value": 0, "max_comparison_vector_value": 0, "bayes_factor_description": "The probability that two random records drawn at random match is 0.001 or one in  1,218.3 records.This is equivalent to a starting match weight of -10.249.", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": -1}, {"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match on first_name", "m_probability": 0.49862544264710834, "u_probability": 0.000927734375, "m_probability_description": "Amongst matching record comparisons, 49.86% of records (i.e. one in 2.006) are in the exact match on first_name comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09277% of records (i.e. one in 1,078) are in the exact match on first_name comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "first_name", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 537.4657402848832, "log2_bayes_factor": 9.070028985599873, "comparison_vector_value": 3, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match on first_name` then comparison is 537 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.9", "label_for_charts": "Jaro-Winkler distance of first_name >= 0.9", "m_probability": 0.23639881287247982, "u_probability": 0.002083333333333335, "m_probability_description": "Amongst matching record comparisons, 23.64% of records (i.e. one in 4.23) are in the jaro-winkler distance of first_name >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.2083% of records (i.e. one in 480) are in the jaro-winkler distance of first_name >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 113.47143017879023, "log2_bayes_factor": 6.826185291451124, "comparison_vector_value": 2, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro-winkler distance of first_name >= 0.9` then comparison is 113 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.8", "label_for_charts": "Jaro-Winkler distance of first_name >= 0.8", "m_probability": 0.06736301794835056, "u_probability": 0.03333333333333336, "m_probability_description": "Amongst matching record comparisons, 6.736% of records (i.e. one in 14.84) are in the jaro-winkler distance of first_name >= 0.8 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 3.333% of records (i.e. one in 30) are in the jaro-winkler distance of first_name >= 0.8 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 2.0208905384505154, "log2_bayes_factor": 1.0149911802473903, "comparison_vector_value": 1, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro-winkler distance of first_name >= 0.8` then comparison is 2.021 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.19761272653206133, "u_probability": 0.5333333333333338, "m_probability_description": "Amongst matching record comparisons, 19.76% of records (i.e. one in 5.06) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 53.33% of records (i.e. one in 1.875) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.3705238622476147, "log2_bayes_factor": -1.432361637814458, "comparison_vector_value": 0, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 2.699 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 0}, {"comparison_name": "surname", "sql_condition": "\"surname_l\" = \"surname_r\"", "label_for_charts": "Exact match on surname", "m_probability": 0.5509949405373061, "u_probability": 0.000927734375, "m_probability_description": "Amongst matching record comparisons, 55.1% of records (i.e. one in 1.815) are in the exact match on surname comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09277% of records (i.e. one in 1,078) are in the exact match on surname comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "surname", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 593.9145464317911, "log2_bayes_factor": 9.214111557993046, "comparison_vector_value": 3, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match on surname` then comparison is 594 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_similarity(\"surname_l\", \"surname_r\") >= 0.9", "label_for_charts": "Jaro distance of 'surname >= 0.9'", "m_probability": 0.227164680283509, "u_probability": 0.002083333333333335, "m_probability_description": "Amongst matching record comparisons, 22.72% of records (i.e. one in 4.402) are in the jaro distance of 'surname >= 0.9' comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.2083% of records (i.e. one in 480) are in the jaro distance of 'surname >= 0.9' comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 109.03904653608423, "log2_bayes_factor": 6.768701041809676, "comparison_vector_value": 2, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro distance of 'surname >= 0.9'` then comparison is 109 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_similarity(\"surname_l\", \"surname_r\") >= 0.7", "label_for_charts": "Jaro distance of 'surname >= 0.7'", "m_probability": 0.11715780430742914, "u_probability": 0.03333333333333336, "m_probability_description": "Amongst matching record comparisons, 11.72% of records (i.e. one in 8.535) are in the jaro distance of 'surname >= 0.7' comparison level", "u_probability_description": "Amongst non-matching record comparisons, 3.333% of records (i.e. one in 30) are in the jaro distance of 'surname >= 0.7' comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 3.5147341292228713, "log2_bayes_factor": 1.8134155612867613, "comparison_vector_value": 1, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro distance of 'surname >= 0.7'` then comparison is 3.515 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.10468257487175582, "u_probability": 0.5333333333333338, "m_probability_description": "Amongst matching record comparisons, 10.47% of records (i.e. one in 9.553) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 53.33% of records (i.e. one in 1.875) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.196279827884542, "log2_bayes_factor": -2.349016183450236, "comparison_vector_value": 0, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 5.095 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 1}, {"comparison_name": "dob", "sql_condition": "\"dob_l\" = \"dob_r\"", "label_for_charts": "Exact match on date of birth", "m_probability": 0.4218612324664359, "u_probability": 0.000927734375, "m_probability_description": "Amongst matching record comparisons, 42.19% of records (i.e. one in 2.37) are in the exact match on date of birth comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09277% of records (i.e. one in 1,078) are in the exact match on date of birth comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 454.72200215329514, "log2_bayes_factor": 8.828841001707392, "comparison_vector_value": 5, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `exact match on date of birth` then comparison is 455 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "damerau_levenshtein(\"dob_l\", \"dob_r\") <= 1", "label_for_charts": "DamerauLevenshtein distance <= 1", "m_probability": 0.08378423880863277, "u_probability": 0.0012500000000000011, "m_probability_description": "Amongst matching record comparisons, 8.378% of records (i.e. one in 11.94) are in the dameraulevenshtein distance <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.125% of records (i.e. one in 800) are in the dameraulevenshtein distance <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 67.02739104690616, "log2_bayes_factor": 6.066678874816735, "comparison_vector_value": 4, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `dameraulevenshtein distance <= 1` then comparison is 67.03 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ABS(EPOCH(try_strptime(\"dob_l\", '%Y-%m-%d')) - EPOCH(try_strptime(\"dob_r\", '%Y-%m-%d'))) <= 2629800.0", "label_for_charts": "Abs date difference <= 1 month", "m_probability": 0.09258983701443979, "u_probability": 0.0050000000000000044, "m_probability_description": "Amongst matching record comparisons, 9.259% of records (i.e. one in 10.8) are in the abs date difference <= 1 month comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.5% of records (i.e. one in 200) are in the abs date difference <= 1 month comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 18.51796740288794, "log2_bayes_factor": 4.21085384690322, "comparison_vector_value": 3, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `abs date difference <= 1 month` then comparison is 18.52 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ABS(EPOCH(try_strptime(\"dob_l\", '%Y-%m-%d')) - EPOCH(try_strptime(\"dob_r\", '%Y-%m-%d'))) <= 31557600.0", "label_for_charts": "Abs date difference <= 1 year", "m_probability": 0.13075203159357163, "u_probability": 0.020000000000000018, "m_probability_description": "Amongst matching record comparisons, 13.08% of records (i.e. one in 7.648) are in the abs date difference <= 1 year comparison level", "u_probability_description": "Amongst non-matching record comparisons, 2% of records (i.e. one in 50) are in the abs date difference <= 1 year comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 6.537601579678576, "log2_bayes_factor": 2.708761457781761, "comparison_vector_value": 2, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `abs date difference <= 1 year` then comparison is 6.538 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ABS(EPOCH(try_strptime(\"dob_l\", '%Y-%m-%d')) - EPOCH(try_strptime(\"dob_r\", '%Y-%m-%d'))) <= 315576000.0", "label_for_charts": "Abs date difference <= 10 year", "m_probability": 0.2305927384967239, "u_probability": 0.08000000000000007, "m_probability_description": "Amongst matching record comparisons, 23.06% of records (i.e. one in 4.337) are in the abs date difference <= 10 year comparison level", "u_probability_description": "Amongst non-matching record comparisons, 8% of records (i.e. one in 12.5) are in the abs date difference <= 10 year comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 2.882409231209046, "log2_bayes_factor": 1.5272751772625013, "comparison_vector_value": 1, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `abs date difference <= 10 year` then comparison is 2.882 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.04041992162019593, "u_probability": 0.3200000000000003, "m_probability_description": "Amongst matching record comparisons, 4.042% of records (i.e. one in 24.74) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 32% of records (i.e. one in 3.125) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.12631225506311217, "log2_bayes_factor": -2.984933475864349, "comparison_vector_value": 0, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 7.917 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 2}, {"comparison_name": "city", "sql_condition": "\"city_l\" = \"city_r\"", "label_for_charts": "Exact match on city", "m_probability": 0.5906688666019353, "u_probability": 0.000927734375, "m_probability_description": "Amongst matching record comparisons, 59.07% of records (i.e. one in 1.693) are in the exact match on city comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09277% of records (i.e. one in 1,078) are in the exact match on city comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "city", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 636.6788625267177, "log2_bayes_factor": 9.314422057916554, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match on city` then comparison is 637 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 3}, {"comparison_name": "city", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.4093311333980647, "u_probability": 1.6000000000000014, "m_probability_description": "Amongst matching record comparisons, 40.93% of records (i.e. one in 2.443) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 160% of records (i.e. one in 0.625) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.2558319583737902, "log2_bayes_factor": -1.9667315988168212, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 3.909 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 3}, {"comparison_name": "email", "sql_condition": "\"email_l\" = \"email_r\"", "label_for_charts": "Exact match on email", "m_probability": 0.5928147467744491, "u_probability": 0.000927734375, "m_probability_description": "Amongst matching record comparisons, 59.28% of records (i.e. one in 1.687) are in the exact match on email comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09277% of records (i.e. one in 1,078) are in the exact match on email comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "email", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 638.9918954705641, "log2_bayes_factor": 9.319653822921056, "comparison_vector_value": 4, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match on email` then comparison is 639 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "NULLIF(regexp_extract(\"email_l\", '^[^@]+', 0), '') = NULLIF(regexp_extract(\"email_r\", '^[^@]+', 0), '')", "label_for_charts": "Exact match on username", "m_probability": 0.20958093416102935, "u_probability": 0.0015625000000000014, "m_probability_description": "Amongst matching record comparisons, 20.96% of records (i.e. one in 4.771) are in the exact match on username comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.1563% of records (i.e. one in 640) are in the exact match on username comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 134.13179786305867, "log2_bayes_factor": 7.067507479077501, "comparison_vector_value": 3, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match on username` then comparison is 134 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "jaro_winkler_similarity(\"email_l\", \"email_r\") >= 0.88", "label_for_charts": "Jaro-Winkler distance of email >= 0.88", "m_probability": 0.19760431906452164, "u_probability": 0.009921256574801257, "m_probability_description": "Amongst matching record comparisons, 19.76% of records (i.e. one in 5.061) are in the jaro-winkler distance of email >= 0.88 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.9921% of records (i.e. one in 101) are in the jaro-winkler distance of email >= 0.88 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 19.91726729116267, "log2_bayes_factor": 4.315947813782588, "comparison_vector_value": 2, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro-winkler distance of email >= 0.88` then comparison is 19.92 times more likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "jaro_winkler_similarity(NULLIF(regexp_extract(\"email_l\", '^[^@]+', 0), ''), NULLIF(regexp_extract(\"email_r\", '^[^@]+', 0), '')) >= 0.88", "label_for_charts": "Jaro-Winkler >0.88 on username", "m_probability": 0.012500000000000011, "u_probability": 0.06299605249474372, "m_probability_description": "Amongst matching record comparisons, 1.25% of records (i.e. one in 80) are in the jaro-winkler >0.88 on username comparison level", "u_probability_description": "Amongst non-matching record comparisons, 6.3% of records (i.e. one in 15.87) are in the jaro-winkler >0.88 on username comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.19842513149602492, "log2_bayes_factor": -2.3333333333333335, "comparison_vector_value": 1, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro-winkler >0.88 on username` then comparison is 5.04 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.012500000000000011, "u_probability": 0.40000000000000036, "m_probability_description": "Amongst matching record comparisons, 1.25% of records (i.e. one in 80) are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 40% of records (i.e. one in 2.5) are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.03125, "log2_bayes_factor": -5.0, "comparison_vector_value": 0, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is 32 times less likely to be a match", "probability_two_random_records_match": 0.0008208208208208208, "comparison_sort_order": 4}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>